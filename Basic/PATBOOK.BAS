0 'BKLTPLUS' by Keiran Kenny,      Sydney, 1990.
1 'COPYRIGHT 1990 FALSOFT, INC
22 CLEAR5508
24 POKE150,18 '2400 baud
60 PRINT:PRINTTAB(2)"ARE YOU USING DISK OR TAPE?",TAB(7)"PRESS <D> OR <T>."
62 K$=INKEY$:IFK$=""THEN62
64 IFK$="D"THENDV=1:GOTO70
66 IFK$="T"THENDV=-1:GOTO70
68 GOTO62
70 CLS:DIMA$(162)
71 PRINT@160,"YOU CAN":PRINT:PRINTTAB(3)"1. LOAD A SAVED FILE",TAB(3)"2. TYPE A NEW TEXT.",TAB(8)"PRESS 1 OR 2."
72 K$=INKEY$:IFK$=""THEN72
73 IFK$="1"THEN820
74 IFK$="2"THENCLS:GOTO110
75 GOTO72
140 CLS:PN=1:B=1
160 POKE282,0:FORT=B TOLP*6
195 IFA$(T)="]"THENB=T:T=T-1:LN=LN-1:GOTO802
750 IFK$="N"ORK$="n"THEN761
761 CLS:PRINT@224,"SAVE YOUR TEXT? Y/N"
762 K$=INKEY$:IFK$=""THEN762
763 IFK$="Y"ORK$="y"THEN1000
764 IFK$="N"ORK$="n"THENCLS:END
765 GOTO762
800 PMODE0,1:PCLEAR1:GOTO22
802 POKE282,255:CLS:IFDV=-1THENPF$="PARTFILE":PRINT@160,"POSITION TAPE. PRESS <PLAY> AND <RECORD>. PRESS ANY KEY.":EXEC44539:K$=INKEY$
804 IFDV=1THENPRINT@160,"SAVE PARTFILE NAME:";:INPUTPF$
806 OPEN"O",#DV,PF$
808 PRINT#DV,B,T,PN,LN,LP,LF
810 FORX=1TOT
812 PRINT#DV,A$(X)
814 NEXT:END
820 PRINT:PRINT"IS THIS FILE COMPLETE? Y/N"
822 K$=INKEY$:IFK$=""THEN822
824 IFK$="Y"THEN900
826 IFK$="N"THENCLS:GOTO830
828 GOTO822
830 IFDV=-1THENPF$="PARTFILE":PRINT@160,"POSITION TAPE. PRESS <PLAY>.    PRESS ANY KEY.":EXEC44539
832 IFDV=1THENPRINT@160,"LOAD PARTFILE NAME:";:INPUTPF$:PF$=PF$+"/DAT"
834 OPEN"I",#DV,PF$
836 INPUT#DV,B,T,PN,LN,LP,LF
838 FORX=1TOT
840 IFEOF(DV)THEN846
842 LINEINPUT#DV,A$(X)
844 NEXT
846 CLOSE#DV
848 IFT>4THENCLS:PRINT"LAST 5 LINES OF FILE:":FORX=T-4TOT:PRINTA$(X):NEXT:PRINTTAB(4)"PRESS ANY KEY TO CONTINUE";:EXEC44539
850 IFLN=LP THENLN=0:PN=PN+1
852 CLS:GOTO150
900 CLS:IFDV=-1THENF$="FILE":PRINT@160,"POSITION TAPE. PRESS <PLAY>.    PRESS ANY KEY.":EXEC44539:PRINTTAB(10)"LOADING FILE."
910 IFDV=1THENPRINT@160,"LOAD FILENAME";:INPUTF$:F$=F$+"/DAT"
920 OPEN"I",#DV,F$
930 INPUT#DV,LP,LF:N=LP*6
940 FORT=1TON+3
950 IFEOF(DV)THEN980
960 IFT>N THENLINEINPUT#DV,C$(T-N)ELSELINEINPUT#DV,A$(T)
970 NEXT
980 CLOSE#DV
990 GOTO350
1000 POKE282,255:CLS:IFDV=-1THENF$="FILE":PRINT@160,"POSITION TAPE. PRESS <PLAY> AND <RECORD>. PRESS ANY KEY.":EXEC44539:PRINTTAB(10)"SAVING FILE."
1010 IFDV=1THENPRINT@160,"SAVE FILENAME:";:INPUTF$
1020 N=LP*6
1030 OPEN"O",#DV,F$
1040 PRINT#DV,LP,LF
1050 FORT=1TON+3
1060 IFT>N THENPRINT#DV,C$(T-N)ELSEPRINT#DV,A$(T)
1070 NEXT
1080 CLS:END
1100 CLS:FORX=1TOLP*6
1110 IFX<=LP*6THENPRINT"A$("X")=":PRINTA$(X)
1120 IFX/5=INT(X/5)ORX=LP*6THENPRINT"PRESS ANY KEY";:EXEC44539:CLS
1130 NEXT
1140 GOTO350
