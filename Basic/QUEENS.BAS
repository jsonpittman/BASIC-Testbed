10 ONBRKGOTO580:POKE&HFFD9,1:READSX,SY:DIMGD(7,7):FORI=0TO15:PALETTEI,0:NEXT
20 HSCREEN2:HCLS0:WIDTH32:POKE&H95C9,&H7F:POKE&HE6C6,18:POKE&HE6C7,18:POKE&HFF22,&H10
30 PRINT@108,"Queens'"
40 PRINT@172,"Quarrel"
50 PRINT@239,"by"
60 PRINT@299,"Scot Allen"
70 POKE&HE6,2
80 HBUFF1,400
90 HDRAW"C15BM16,0RF2RFG3DF2L2D6FDF2R2DFL15EUR2E2UEU6L2E2UH3ERE":HPAINT(17,1),15:HDRAW"C14BM-3,+3R9BM-1,+6L7"
100 HGET(0,0)-(31,23),1:HCLS13
110 FORX=1TO8
120 FORY=1TO8
130 PALETTE12,X*8+Y
140 IFX=INT(X/2)*2THENC=8ELSEC=10
150 IFY=INT(Y/2)*2THENIFC=8THENC=10ELSEC=8
160 HCOLORC
170 HLINE(X*32,Y*24-24)-(X*32+31,Y*24),PSET,BF
180 NEXTY,X
190 PRINT:PRINT"   Do you have an RGB monitor"
200 PRINT"  or a composite monitor (tv)?"
210 PRINT"             R or C"
220 M$=INKEY$:IFNOT(M$="c"ORM$="C"ORM$="r"ORM$="R")THEN220
230 HSCREEN2:IFM$="c"ORM$="C"THENPALETTE7,22:PALETTE5,22:PALETTE0,48:PALETTE1,32:PALETTE8,38:PALETTE10,6:PALETTE15,48:PALETTE14,32:GOTO250
240 PALETTE7,38:PALETTE5,38:PALETTE0,63:PALETTE10,33:PALETTE1,56:PALETTE8,51:PALETTE15,83:PALETTE14,56
250 X=3:Y=4
260 HPUT(X*32+38,Y*24+4)-(X*32+57,Y*24+20),1,NOT:HPUT(X*32+38,Y*24+4)-(X*32+57,Y*24+20),1,NOT
270 IFSO=1THENGOSUB360ELSEA$=INKEY$:IFA$=""THEN260
280 PLAY"O5T255CD"
290 IFA$="S"ORA$="s"THENSO=1
300 IFA$="^"THENIFY>0THENY=Y-1ELSEY=7
310 IFA$=CHR$(10)THENIFY<7THENY=Y+1ELSEY=0
320 IFA$=CHR$(8)THENIFX>0THENX=X-1ELSEX=7
330 IFA$=CHR$(9)THENIFX<7THENX=X+1ELSEX=0
340 IFA$=CHR$(13)THENIFGD(X,Y)=0THENGOSUB480ELSEGD(X,Y)=0:NQ=NQ-1:HCOLORHPOINT(X*32+32,Y*24+1):HLINE(X*32+32,Y*24+1)-(X*32+61,Y*24+23),PSET,BF
350 GOTO260
360 IFGD(SX,SY)THENREADSX,SY:GOTO360
370 FORI=0TO7:IFGD(I,SY)THENFL=1:XC=I
380 NEXT:IFFL=0THEN410
390 FL=0:IFX<XC THENA$=CHR$(9):RETURNELSEIFX>XC THENA$=CHR$(8):RETURNELSEIFY>SY THENA$="^":RETURNELSEIFY<SY THENA$=CHR$(10):RETURN
400 A$=CHR$(13):RETURN
410 FORI=0TO7:IFGD(SX,I)THENFL=1:YC=I
420 NEXT:IFFL=0THEN450
430 FL=0:IFY<YC THENA$=CHR$(10):RETURNELSEIFY>YC THENA$="^":RETURNELSEIFX>SX THENA$=CHR$(8):RETURNELSEIFX<SX THENA$=CHR$(9):RETURN
440 A$=CHR$(13):RETURN
450 IFX<SX THENA$=CHR$(9):RETURNELSEIFX>SX THENA$=CHR$(8):RETURNELSEIFY<SY THENA$=CHR$(10):RETURNELSEIFY>SY THENA$="^":RETURN
460 A$=CHR$(13):RETURN
470 GOTO360
480 I=0
490 IFGD(X,I)ANDSO=0THEN570
500 IFGD(I,Y)ANDSO=0THEN570
510 IFY-X+I<0ORY-X+I>7THEN530
520 IFGD(I,Y-X+I)ANDSO=0THEN570
530 IFY+X-I<0ORY+X-I>7THEN550
540 IFGD(I,Y+X-I)ANDSO=0THEN570
550 I=I+1:IFI<8THEN490
560 GD(X,Y)=1:HPUT(X*32+32,Y*24+1)-(X*32+62,Y*24+23),1,OR:NQ=NQ+1:IFNQ=8THENHCOLOR15:HPRINT(16,16),"You win!":PLAY"CDFGFGFDCGFDCGD":FORI=0TO5000:NEXT:GOTO580
570 RETURN
580 POKE&HFFD8,0:IFM$="r"ORM$="R"THENRGBELSECMP
590 DATA2,,1,2,,4,4,1,7,3,6,5,5,7,3,6
