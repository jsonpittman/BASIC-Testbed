0 'COPYRIGHT 1990 FALSOFT, INC.
10 '   *********************           *    K A R A T E    *           *        BY         *           *   DALE M HARRIS   *           *     (C) 1988      *           *********************
20 CLEAR 800
30 POKE 65497,0
40 'title screen #1
50 PLAY"V31"
60 RGB:PALETTE14,48::PALETTE12,8:PALETTE13,0
70 CLS4:PRINT@205,"KARATE";
80 PRINT@262,"HARRIS SOFTWARE 87-88";
90 FORT=1TO30:PLAY"T255;L255O1ABCDEV-":PALETTE12,RND(8):PALETTE5,63:NEXT:PALETTE6,12
100 PALETTE12,1:PALETTE13,0:FORT=1TO3000:NEXT
110 'set up graphics
120 HSCREEN2:HCLS8:HDRAW"C0;BM30,10;M40,15;D15;M25,35;R25H5U5RF10R10H15E10L5G10U10L15"
130 HDRAW"BM70,35;U10D10R3U5R4D5R3U10H5G5BR3R4D3L4U3"
140 HDRAW"BM75,40;M85,35;U15R10BD3D4L4U4R4D4BD3F5L5H5D10L15":HCIRCLE(95,25),5,,1,.75,.25
150 HDRAW"BM105,35;U10D10R3U5R4D5R3U10H5G5BR3R4D3L4U3"
160 HDRAW"BM115,35;E5U15L40M70,10R80F2D1G2L25D15F5L15"
170 HDRAW"BM135,35;U15R10D5L5R3D5L3R5D5L10"
180 HDRAW"C0":HLINE(20,40)-(30,50),PSET,B:HLINE(140,40)-(150,50),PSET,B:HLINE(20,150)-(30,160),PSET,B:HLINE(140,150)-(150,160),PSET,B:HLINE(30,50)-(140,150),PSET,B
190 HPRINT(25,12),"ROUND : 1"
200 HDRAW"C0":HPRINT(24,14),"PLAYER   BELT":HDRAW"C6":HPRINT(24,16),"PURPLE":HDRAW"C5":HPRINT(24,18),"WHITE":HDRAW"C0":HPRINT(24,15),"------   ----"
210 HDRAW"C5":HLINE(263,128)-(300,133),PSET,BF:HCIRCLE(282,130),4,8:HLINE(263,144)-(300,149),PSET,BF:HCIRCLE(282,146),4,8
220 HLINE(170,5)-(240,20),PSET,B
230 HDRAW"C5;BM180,30;L5G5R5F5L10BM190,30;G5F5;BM200,30;F5G5H5E5;BM210,30;F5L5F5BL5U10;BM220,30;D10R5L5U5R3L3U5R5L5"
240 HDRAW"BM200,45;F5G5H5E5"
250 HDRAW"C6;BM180,60;L5G5R5F5L10BM190,60;G5F5;BM200,60;F5G5H5E5;BM210,60;F5L5F5BL5U10;BM220,60;D10R5L5U5R3L3U5R5L5"
260 HDRAW"BM200,75;F5G5H5E5"
270 HDRAW"C3;BM5,165;D5U5R3L6;BM10,165;D5;BM15,167;E2D5U5G2H2D5;BM20,165;D5R3L3U3R3L3U2R3L3"
280 FORT=30 TO 220 STEP 3:HLINE(T,165)-(T,170),PSET:NEXTT
290 PW$="F5L10E5BD5":HDRAW"C6":HDRAW"BM160,75":FORT=1TO15:HDRAWPW$:NEXTT
300 HDRAW"C5":HDRAW"BM175,75":FORT=1TO15:HDRAWPW$:NEXT
310 HDRAW"C3;BM31,149;E20M55,115;BM139,149;H20M115,115;BM55,110;C0;R60D10U10L60D10E5F5E5F5E5F5E5F5E5F5E5F5"
320 HDRAW"C3;BM130,140;U30R5D35U10C0E5U50H5G5D5M125,95;D10G5D10F5D5F5C3D5U30R5D35U10C0R1U26L7D26C3BM130,140;U30R5D35":HPAINT(135,100),0,0:HPAINT(133,130),3,3
330 HDRAW"BM135,75;C0;U20;L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D5L5U5L5D30"
340 HCIRCLE(40,100),15,0,1,.62,.39:HDRAW"C3":HLINE(37,115)-(42,149),PSET,BF
350 HPAINT(35,75),2,0
360 HDRAW"C5;BM65,109;U5E5F5D5U5H5U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2
370 HDRAW"C6;BM100,109;U5E5F5D5U5H5U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
380 HPRINT(22,1),"READY ?"
390 'title screen  #2
400 HDRAW"C3;BM75,87;R2BR3R2BR3R2BR3R2BR3R2BR3
410 HDRAW"BM88,87;U3D6U3E3G3F3H6F3G3"
420 FORA=1TO20
430 IF BUTTON(0)=1 THEN CM=1:GOTO580 ELSE IF BUTTON(2)=1 THEN CM=0:GOTO580
440 NEXTA
450 HDRAW"C8;BM88,87;U3D6U3E3G3F3H6F3G3;C3;E6G3U3D6U3R3L6"
460 FORA=1TO20
470 IF BUTTON(0)=1THENCM=1:GOTO580ELSEIFBUTTON(2)=1 THEN CM=0:GOTO580
480 NEXTA
490 HDRAW"C8;BM88,87;E3G6E3U3D6U3R3L6;BM88,87;C3;R3L6R3E3G6E3F3H6"
500 FORA=1TO20
510 IF BUTTON(0)=1THENCM=1:GOTO580 ELSE IF BUTTON(2)=1THENCM=0:GOTO580
520 NEXTA
530 HDRAW"C8;BM88,87;R3L6R3E3G6E3F3H6;BM88,87;C3R3L6R3U3D6U3H3F6"
540 FORA=1TO20
550 IF BUTTON(0)=1 THEN CM=1:GOTO580 ELSE IF BUTTON(2)=1 THEN CM=0:GOTO580
560 NEXTA
570 HDRAW"C8;BM88,87;R3L6R3U3D6U3E3F6;C3":GOTO 410
580 HDRAW"C8":HLINE(75,80)-(101,90),PSET,BF
590 HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"FIGHT !"
600 ' set up variables
610 X1=65:X2=100:P1=15:P2=P1:S1=0:S2=0:TM=220:M1=1:M2=1:PW$="R5H5G5R5":RD=1:R1=0:R2=0
620 DIM MN$(2,9),NM$(10),BT$(5)
630 BT$(0)="WHITE":BT$(1)="YELLOW":BT$(2)="GREEN":BT$(3)="PURPLE":BT$(4)="BLUE":BT$(5)="BROWN":BT(0)=5:BT(1)=1:BT(2)=0:BT(3)=6:BT(4)=2:BT(5)=14
640 DATA U5E5F5D5U5H5U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,U5E5F5D5U5H5U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
650 '******** still
660 DATA U5E15G10U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,BR10U5H15F10U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
670 '******** head kick
680 DATAU5E5R5F5H5L5U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,BR10U5H5L5G5E5R5U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
690 '******** knee kick
700 DATA U5E5R10L10U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,BR10U5H5L10R10U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
710 '******** waist kick
720 DATA U5E5F5D5U5H5U10R10L10G5R7L7E5R2E2U2H2L4G2D2F2R2,U5E5F5D5U5H5U10F5L7R7H5L10R10R2E2U2H2L4G2D2F2R2
730 '******** punch
740 DATA U5E5R5D5U5L5U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,BR10U5H5L5D5U5R5U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
750 '******** jump
760 DATA BL5E5R10F5H5L5U5E5D5R5L5U5L5G5E5R5R2E2U2H2L4G2D2F2R2,BL5E5R10F5H5L5U5H5R5F5H5L5D5L5R5U5R2E2U2H2L4G2D2F2R2
770 '******** duck
780 DATA BR5E5H5G5F5E5H5U10F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2,BR5E5H5G5F5E5H5U10F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2
790 '******** walk
800 DATA BU20L7R12F5L5R5H5U5U5F5D5U5H5G5L5R5E5R2E2U2H2L4G2D2F2R2,BU20R5L5G5R5L5E5R12L12U5U5F5R5L5H5G5D5U5E5R2E2U2H2L4G2D2F2R2
810 '*******jump kick
820 FORT=1TO8:READMN$(1,T):READ MN$(2,T):NEXT:READ MN$(2,9),MN$(1,9)
830 DATA E5H5G5F5
840 DATA U10G3
850 DATA R5L10E5R5H5G5
860 DATA R5U5L3R3U5L5
870 DATA U10G5R7
880 DATA H5F5E5L5H5R10
890 DATA H5F5E5L10E5R5
900 DATA U5E5L10
910 DATA U5L5U5R5D5L5D5R5
920 DATA U10L5D5E5
930 FORT=1TO10:READ NM$(T):NEXTT
940 K1$="T255L255V31O1ADCFBAGEDV16ACGADV4EABCAEDB"
950 PLAY"V15T4L4O4ADEFA":HDRAW"C8":HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"FIGHT"
960 K2$="T4L255;V31;O1;1;2;3;4;5;V16;5;1;4;V4;1;6"
970 'fight routine
980 C1=0:C2=0:IF F1<>1 THEN A1=JOYSTK(0):B1=JOYSTK(1)
990 IF F2<>1 THEN IF CM=0 THEN A2=JOYSTK(2):B2=JOYSTK(3)
1000 IF F1<>1 THEN C1=BUTTON(0)
1010 IF F2<>1 THEN C2=BUTTON(2)
1020 IF F1=1 THEN T1=T1+1:IF T1=2 THEN F1=0:T1=0:
1030 IF F2=1 THEN T2=T2+1:IF T2=2 THEN F2=0:T2=0
1040 IF CM=1 THEN GOSUB 2390
1050 HDRAW"C8":HLINE(TM,165)-(TM-3,170),PSET,BF:HDRAW"C3":TM=TM-3
1060 HDRAW"C5;BM"+STR$(X1)+",109;XMN$(1,M1);":HDRAW"C6;BM"+STR$(X2)+",109;XMN$(2,M2);":
1070 IF TM<30 THEN SOUND100,1:GOTO2040
1080 IF D1=1 THEN IF A1<>63 AND B1<>0 AND A1<>0 AND B1<>0 THEN D1=1 ELSE D1=0:M1=1:HDRAW"BM"+STR$(X1)+",109;C8;XMN$(1,7);BM"+STR$(X1)+",109;C5;XMN$(1,M1);"
1090 IF D2=1 THEN IF A2<>63 AND B2<>0 AND A2<>0 THEN D2=1 ELSE D2=0:M2=1:HDRAW"BM"+STR$(X2)+",109;C8;XMN$(2,7);BM"+STR$(X2)+",109;C6;XMN$(2,M2);"
1100 IF J1=1 THEN IF A1<>63 AND A1<>0 AND B1<>63 THEN J1=1 ELSE J1=0:M1=1:HDRAW"BM"+STR$(X1)+",109;C8;XMN$(1,6);C5BM"+STR$(X1)+",109;XMN$(1,1);"
1110 IF J2=1 THEN IF A2<>63 AND A2<>0 AND B2<>63 THEN J2=1 ELSE J2=0:M2=1:HDRAW"BM"+STR$(X2)+",109;C8;XMN$(2,6);C6;BM"+STR$(X2)+",109;XMN$(2,1);"
1120 IF A1<>0 AND A1<>63 AND B1<>0 AND B1<>63 AND C1<>1 AND C2<>1 AND A2<>0 AND A2<>63 AND B2<>63 AND B2<>0 THEN 980
1130 IF A1=0 AND X1<>56 THEN GOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,8);":M1=8:GOSUB1320:X1=X1-1:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1140 IF A2=0 AND X2<>X1+12 THEN GOSUB 1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,8);":M2=8:GOSUB1330:X2=X2-1:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1150 IF A2=63 AND X2<>108THEN GOSUB 1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,8);":M2=8:GOSUB1330:X2=X2+1:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1160 IF A1=63 AND X1<>X2-12 THENGOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,8);":M1=8:GOSUB1320:X1=X1+1:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1170 IF C1=1 AND J1<>1 AND A1<>0 AND A1<>63 AND B1<>0 AND B1<>63 THEN GOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,4);":PLAYK2$:M1=4:GOSUB 2470:GOSUB 1340:M1=4:GOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1180 IF C1=1 AND J1=1 AND A<>0 AND A1<>63 AND B1<>0THEN GOSUB 1320:X1=X1+2:HDRAW"BM"+STR$(X1)+",109;XMN$(1,9);":M1=9:PLAYK2$:GOSUB2060:GOSUB 1380:GOSUB 1320:X1=X1+1:GOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0
1190 IF C2=1 AND J2=1 AND A2<>0AND A2<>63 AND B2<>0THEN GOSUB 1330:X2=X2-2:HDRAW"BM"+STR$(X2)+",109;XMN$(2,9);":M2=9:PLAYK2$:GOSUB2090:GOSUB 1400:GOSUB 1330:X2=X2-1:GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:C2=0:J2=0
1200 IF C2=1 AND J2<>2 AND A2<>0 AND A2<>63 AND B2<>0 AND B2<>63 THEN GOSUB 1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,4);":PLAYK2$:M2=4:GOSUB 2510:GOSUB 1360:M2=4:GOSUB 1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1210 IF C1=1 AND B1=0 THEN GOSUB1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,2);":PLAYK2$:M1=2:GOSUB2310:GOSUB 1380:M1=2:GOSUB1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1220 IF C2=1 AND B2=0 THEN GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,2);":PLAYK2$:GOSUB2330:M2=2:GOSUB 1400:M2=2:GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1230 IF C1=1 AND A1=0 THEN GOSUB 1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,5);":PLAYK2$+K2$:M1=5:GOSUB1380:M1=5:GOSUB1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1240 IF C2=1 AND A2=63 THEN GOSUB 1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,5);":PLAYK2$+K2$:M2=5:GOSUB1400:M2=5:GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1250 IF C2=1 AND B2=63 THEN GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,3);":PLAYK2$:M2=3:GOSUB2370:GOSUB 1420:M2=3:GOSUB1330:HDRAW"BM"+STR$(X2)+",109;XMN$(2,1);":M2=1:J2=0:D2=0
1260 IF C1=1 AND B1=63 THEN GOSUB1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,3);":PLAYK2$:M1=3:GOSUB2350:GOSUB1440:M1=3:GOSUB1320:HDRAW"BM"+STR$(X1)+",109;XMN$(1,1);":M1=1:J1=0:D1=0
1270 IF B1=63 AND C1=0 THEN GOSUB 1320:M1=7:HDRAW"BM"+STR$(X1)+",109;XMN$(1,M1);":D1=1
1280 IF B2=63 AND C2=0 THEN GOSUB 1330:M2=7:HDRAW"BM"+STR$(X2)+",109;XMN$(2,M2);":D2=1
1290 IF B2=0 AND C2=0 THEN GOSUB 1330:M2=6:HDRAW"BM"+STR$(X2)+",109;XMN$(2,M2);":J2=1
1300 IF B1=0 AND C1=0 THEN GOSUB 1320:M1=6:HDRAW"BM"+STR$(X1)+",109;XMN$(1,M1);":J1=1
1310 GOTO 980
1320 HDRAW"C8;BM"+STR$(X1)+",109;XMN$(1,M1);C5":RETURN
1330 HDRAW"C8;BM"+STR$(X2)+",109;XMN$(2,M2);C6":RETURN
1340 IF X1>X2-15 THEN S=S1:S1=S1+50:HDRAW"BM"+STR$(X2)+",109;C3;XMN$(2,M2);":PLAYK1$:GOSUB 1460:GOSUB 1590
1350 RETURN
1360 IF X2<X1+15 THEN S=S2:S2=S2+50:HDRAW"BM"+STR$(X1)+",109;C3;XMN$(1,M1);":PLAYK1$:GOSUB 1620:GOSUB 1750
1370 RETURN
1380 IF X1>X2-15 AND D2<>1 THEN S=S1:S1=S1+125:HDRAW"BM"+STR$(X2)+",109;C3;XMN$(2,M2);":PLAYK1$:GOSUB1460:GOSUB1590:IFM1=9THENGOSUB1590
1390 RETURN
1400 IF X2<X1+15 AND D1<>1 THEN S=S2:S2=S2+125:HDRAW"C3;BM"+STR$(X1)+",109;XMN$(1,M1);":PLAYK1$::GOSUB1620:GOSUB1750:IFM2=9 THEN GOSUB1750
1410 RETURN
1420 IF X2<X1+17 AND J1<>1 THEN S=S2:S2=S2+100:HDRAW"C3;BM"+STR$(X1)+",109;XMN$(1,M1);":PLAYK1$:GOSUB1620:GOTO1750
1430 RETURN
1440 IF X1>X2-17 AND J2<>1 THEN S=S1:S1=S1+50:HDRAW"BM"+STR$(X2)+",109;C3;XMN$(2,M2);":PLAYK1$:GOSUB1460:GOSUB 1590
1450 RETURN
1460 S$=RIGHT$(STR$(S),LEN(STR$(S))-1):HDRAW"C8"
1470 SX=200
1480 FORT=1TOLEN(S$)
1490 HDRAW"BM"+STR$(SX)+",55"+NM$(ASC(MID$(S$,T,1))-47)
1500 SX=SX+15
1510 NEXTT
1520 S1$=RIGHT$(STR$(S1),LEN(STR$(S1))-1):HDRAW"C5"
1530 SX=200
1540 FORT=1TOLEN(S1$)
1550 HDRAW"BM"+STR$(SX)+",55;"+NM$(ASC(MID$(S1$,T,1))-47)
1560 SX=SX+15
1570 NEXTT
1580 RETURN
1590 PW=P2*5:HDRAW"C8;BM155,"+STR$(150-PW)+";R10H5G5":P2=P2-1
1600 IF P2=-1 THEN 1780
1610 RETURN
1620 S$=RIGHT$(STR$(S),LEN(STR$(S))-1):HDRAW"C8"
1630 SX=200
1640 FORT=1TOLEN(S$)
1650 HDRAW"BM"+STR$(SX)+",85"+NM$(ASC(MID$(S$,T,1))-47)
1660 SX=SX+15
1670 NEXTT
1680 S2$=RIGHT$(STR$(S2),LEN(STR$(S2))-1):HDRAW"C6"
1690 SX=200
1700 FORT=1TOLEN(S2$)
1710 HDRAW"BM"+STR$(SX)+",85;"+NM$(ASC(MID$(S2$,T,1))-47)
1720 SX=SX+15
1730 NEXTT
1740 RETURN
1750 PW=P1*5:HDRAW"C8;BM170,"+STR$(150-PW)+";R10H5G5":P1=P1-1:
1760 IF P1=-1 THEN 1910
1770 RETURN
1780 HDRAW"C8":HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"STOP":HDRAW"C8;BM"+STR$(X2)+",109;XMN$(2,M2);":
1790 FORT=1TO1000:NEXTT:HDRAW"C8":HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"WHITE"
1800 HDRAW"C8":S=S1:FORT=TM TO 30 STEP-1:PLAY"O2L255T255GEF":S1=S1+5:HLINE(T,165)-(T,170),PSET:NEXTT:GOSUB 1460
1810 S=S1:FOR Z=P1 TO -1 STEP -1:PLAY"O2L255;T255;GEF":S1=S1+25:PW=Z*5:HDRAW"C8;BM170,"+STR$(150-PW)+";R10H5G5":NEXT:GOSUB 1460
1820 HDRAW"C8":HPRINT(25,12),"ROUND :"+STR$(RD):HDRAW"C0":HPRINT(25,12),"ROUND :"+STR$(RD+1)
1830 RD=RD+1:R1=R1+1:GOSUB 2530
1840 IF R1=6 THEN 2270
1850 PW$="F5L10E5BD5":HDRAW"C6":HDRAW"BM160,75":FORT=1TO15:HDRAWPW$:NEXTT
1860 HDRAW"C5":HDRAW"BM175,75":FORT=1TO15:HDRAWPW$:NEXT
1870 IF RD=5 THEN GOSUB 2130
1880 HDRAW"C3":FORT=30 TO 220 STEP 3::HLINE(T,165)-(T,170),PSET:NEXTT:P1=15:P2=15:TM=220:
1890 HDRAW"BM"+STR$(X1)+",109;C8;XMN$(1,M1);":X1=65:X2=100
1900 M1=1:M2=1:GOTO 940
1910 HDRAW"C8":HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"STOP":HDRAW"C8;BM"+STR$(X1)+",109;XMN$(1,M1);":
1920 FORT=1TO1000:NEXTT:HDRAW"C8":HLINE(170,5)-(240,20),PSET,BF:HDRAW"C0":HLINE(170,5)-(240,20),PSET,B:HPRINT(22,1),"PURPLE"
1930 HDRAW"C8":S=S2:FORT=TM TO 30 STEP-1:PLAY"O2L255;T255GEF":S2=S2+5:HLINE(T,165)-(T,170),PSET:NEXTT:GOSUB 1620
1940 S=S2:FORT=P2 TO -1 STEP -1:PLAY"O2L255T255GEF":S2=S2+25:PW=T*5:HDRAW"C8;BM155,"+STR$(150-PW)+";R10H5G5":NEXT:GOSUB1620
1950 HDRAW"C8":HPRINT(25,12),"ROUND :"+STR$(RD):HDRAW"C0":HPRINT(25,12),"ROUND :"+STR$(RD+1)
1960 RD=RD+1:R2=R2+1:GOSUB 2530
1970 IF R2=6 THEN 2220
1980 IF RD=5 THEN GOSUB 2130
1990 PW$="F5L10E5BD5":HDRAW"C6":HDRAW"BM160,75":FORT=1TO15:HDRAWPW$:NEXT
2000 HDRAW"C5":HDRAW"BM175,75":FORT=1TO15:HDRAWPW$:NEXT
2010 HDRAW"C3":FORT=30 TO 220 STEP 3:HLINE(T,165)-(T,170),PSET:NEXTT:P1=15:P2=15:TM=220
2020 HDRAW"BM"+STR$(X2)+",109;C8;XMN$(2,M2);":X1=65:X2=100
2030 M1=1:M2=1:GOTO 950
2040 IF P2>=P1 THEN 1910
2050 IF P1>P2 THEN 1780
2060 FORA=1TO2
2070 IF BUTTON(2)=1 AND JOYSTK(2)=63 AND X1>X2-15 THEN P1=0:B2=0:C2=1:GOTO 1220
2080 NEXTA:RETURN
2090 FORA=1TO2
2100 IF BUTTON(0)=1 AND JOYSTK(0)=0 AND X1>X2-15 THEN P3=P2:P2=0:B1=0:C1=1:GOTO1210
2110 NEXTA:RETURN
2120 GOTO 2120
2130 HDRAW"C8":HLINE(30,50)-(140,150),PSET,BF:HDRAW"C0":HLINE(30,50)-(140,150),PSET,B
2140 'screen 2
2150 HCIRCLE(30,140),5,2,1,0,.25
2160 FORT=40 TO 130 STEP 10:HCIRCLE(T,140),5,2,1,0,.50:NEXTT:HCIRCLE(140,140),5,2,1,.25,.50
2170 HDRAW"C2":HLINE(31,140)-(31,149),PSET:HLINE-(139,149),PSET:HLINE-(139,140),PSET:HPAINT(90,145),2,2
2180 HDRAW"C3":HDRAW"BM55,140;U30;C0;BH5L20D5F5E5F5E5F5U5C3R65BD5L10L45BL5L5BD5R25BR10R30U5D10L65R65D15U25C0U5D5E5F5E5F5U10L15C3E5U30H15R5F10U10C0R10U5L55F5R50L45G5L60R5C3D5E5R10G10D25F10"
2190 HCIRCLE(50,110),5,0,1,.75,0:HCIRCLE(125,110),5,0,1,.50,.75
2200 RETURN
2210 'purple wins
2220 WIDTH 32:CLS:PRINT"PURPLE HAS WON THE ROUND,       THE MATCH,                      AND HIS BLACK BELT !":
2230 PRINT"WHITE  WAS AT HIS "+BT$(R1)
2240 PRINT"WHITE SCORE :";S1:PRINT"PURPLE SCORE :";S2
2250 POKE65496,0:GOTO2560
2260 'white wins
2270 WIDTH 32:CLS:PRINT"WHITE  HAS WON THE ROUND,       THE MATCH,                      AND HIS BLACK BELT !"
2280 PRINT"PURPLE WAS AT HIS "+BT$(R2)
2290 PRINT"WHITE SCORE :";S1:PRINT"PURPLE SCORE :";S2
2300 POKE65496,0:GOTO2570
2310 IF CM=1 THEN 2430 ELSE IF JOYSTK(3)=63 THEN GOSUB 1330:D2=1:HDRAW"BM"+STR$(X2)+",109;C6;XMN$(2,7);":M2=7:RETURN
2320 RETURN
2330 IF JOYSTK(1)=63 THEN GOSUB1320:D1=1:HDRAW"BM"+STR$(X1)+",109;C5;XMN$(1,7);":M1=7:RETURN
2340 RETURN
2350 IFCM=1 THEN 2450 ELSEIF JOYSTK(3)=0 THEN GOSUB1330:J2=1:HDRAW"BM"+STR$(X2)+",109;C6;XMN$(2,6);":M2=6:RETURN
2360 RETURN
2370 IF JOYSTK(1)=0 THEN GOSUB1320:J1=1:HDRAW"BM"+STR$(X1)+",109;C5;XMN$(1,6);":M1=6:RETURN
2380 RETURN
2390 IF F2=1 THEN RETURN ELSEA2=36:B2=36:C2=0:IF X2>X1+15 THEN A2=0
2400 IF X1+17>X2 AND X1+15<X2 THEN C2=1:A2=36:B2=63:GOTO 2410 ELSE IF X1+17>X2 THEN C2=1:A2=36:B2=36:GOSUB 2420
2410 GOTO 1050
2420 IF D1=0 AND RND(4)=1 THEN B2=63:RETURN ELSE IF J1=0 AND RND(4)=2 THEN B2=0:RETURN ELSE IF RND(4)=3 THEN A2=63:RETURN ELSE RETURN
2430 IF RND(5)=5 THEN GOSUB1330:D2=1:HDRAW"BM"+STR$(X2)+",109;C6;XMN$(2,7);":M2=7:IF P2=0 THEN P2=P3:GOTO2320 ELSE GOTO 2320
2440 GOTO 2320
2450 IF RND(5)=1 THEN GOSUB1330:J2=1:HDRAW"BM"+STR$(X2)+",109;C6;XMN$(2,6);":M2=6:GOTO2360
2460 GOTO 2360
2470 IF CM=1 THEN GOTO 2490 ELSE IF JOYSTK(2)=63 THEN F1=1:T1=0:GOTO1180
2480 RETURN
2490 IF RND(5)=3 THEN F1=1:T1=0:GOTO1180
2500 RETURN
2510 IFRND(5)<>4 THEN RETURN ELSE IF JOYSTK(0)=0 THEN F2=1:T2=1:GOTO1210 ELSE RETURN
2520 RETURN
2530 HDRAW"C=BT(R1);":HLINE(263,144)-(300,149),PSET,BF:HCIRCLE(282,146),4,8
2540 HDRAW"C=BT(R2);":HLINE(263,128)-(300,133),PSET,BF:HCIRCLE(282,130),4,8
2550 RETURN
2560 'end
2570 PRINT:PRINT"WOULD YOU LIKE TO TRY AGAIN,    NINJA ? (Y/N)"
2580 A$=INKEY$:IF A$<>"Y" AND A$<>"N" THEN GOTO 2580 
2590 IF A$="Y" THEN RUN ELSE PRINT"GOOD BYE":END
