1 'macpaint file viewer
2 '  for the coco ii
3 '   (c) al elmer
4 '     03-11-88
10 DATA 34,1,BD,B2,23,BD,B3,ED
20 DATA D7,6F,30,8D,1,CA,9F,F3
30 DATA 8E,2,80,8D,39,30,1F,26
40 DATA FA,8D,33,81,7F,22,17,4C
50 DATA 97,FB,9E,F3,8D,28,43,A7
60 DATA 80,8C,FE,0,24,2C,A,FB
70 DATA 26,F2,9F,F3,20,E3,40,4C
80 DATA 97,FB,8D,12,43,9E,F3,A7
90 DATA 80,8C,FE,0,24,14,A,FB
100 DATA 26,F5,9F,F3,20,CB,B7,FF
110 DATA DE,BD,A1,76,1A,50,B7,FF
120 DATA DF,39,7F,FF,40,F,F6,F
130 DATA F7,B7,FF,DE,86,FE,97,FC
140 DATA 86,42,97,77,86,28,97,76
150 DATA F,FD,35,81,34,1,1A,50
160 DATA B7,FF,DF,17,0,BF,B7,FF
170 DATA DE,CC,FF,FF,FD,1,55,FD
180 DATA 1,57,AD,9F,A0,0,27,FA
190 DATA 81,5E,26,8,96,F7,27,E9
200 DATA A,F7,20,DC,81,A,26,A
210 DATA 96,F7,91,77,24,DB,C,F7
220 DATA 20,CE,81,8,26,8,96,F6
230 DATA 27,CF,A,F6,20,C2,81,9
240 DATA 26,A,96,F6,91,76,24,C1
250 DATA C,F6,20,B4,81,20,26,2
260 DATA 35,81,81,C,26,22,3,FD
270 DATA 86,28,97,76,86,42,97,77
280 DATA D,FD,27,9C,86,4,97,76
290 DATA 86,2A,97,77,96,F7,81,2A
300 DATA 23,8E,86,2A,97,F7,20,88
310 DATA 81,15,26,17,B7,FF,DF,30
320 DATA 8D,0,DD,CC,65,40,EE,1
330 DATA EF,81,83,0,1,26,F7,30
340 DATA 1E,20,17,81,5D,26,1A,B7
350 DATA FF,DF,30,8D,CB,41,CC,65
360 DATA 40,EE,83,EF,1,83,0,1
370 DATA 26,F7,86,FF,A7,1,16,FF
380 DATA 4F,81,31,10,25,FF,52,81
390 DATA 34,10,22,FF,4C,84,7,40
400 DATA 97,FC,16,FF,3B,86,C0,97
410 DATA FA,96,F7,C6,48,3D,58,49
420 DATA 58,49,58,49,30,8D,0,88
430 DATA 30,8B,96,F6,33,86,D,FD
440 DATA 26,35,10,DF,F8,10,DE,BA
450 DATA 32,66,37,36,34,36,32,6C
460 DATA 37,36,34,36,32,6C,37,36
470 DATA 34,36,32,6C,37,36,34,36
480 DATA 32,6C,37,36,34,36,EC,C4
490 DATA ED,66,32,6E,33,C8,2A,A
500 DATA FA,26,D7,10,DE,F8,39,9E
510 DATA BA,86,20,97,FB,86,2,97
520 DATA F3,A6,C0,97,FE,A6,C8,47
530 DATA C6,4,D7,F4,5F,48,C9,0
540 DATA 48,C9,0,8,FE,C9,0,8
550 DATA FE,D9,FC,69,84,A,F4,26
560 DATA EB,A,F3,26,DC,30,1,A
570 DATA FB,26,D2,33,C8,50,A,FA
580 DATA 26,C7,39,BE,C0,6,6F,84
590 DATA AD,9F,C0,4,7F,FF,40,39
700 PCLEAR4:PMODE4:FILES1,0
710 CLEAR 50,12689:E=12690
720 CLS:PRINT"just a sec...":C=0
730 FOR K=E TO E+471
740 READ A$:A=VAL("&H"+A$):POKEK,A:C=C+A
750 NEXT K
760 IF C<>56331 THEN PRINT"bad news - this copy is no good":END
770 CLS:PRINT@8,"macpaint viewer":PRINT@47,"by":PRINT@76,"al elmer"
780 PRINT@166,"(L)oad a file"
790 PRINT@230,"(S)ave a pmode 4 screen"
800 PRINT@294,"(D)ir"
810 PRINT@358,"(Q)uit"
820 PRINT@453,"<space> to view screen"
830 A$=INKEY$:IF A$="" THEN 830
840 IF A$="L" THEN GOSUB 1000
850 IF A$="S" THEN GOSUB 2000
860 IF A$=" " THEN GOSUB 3000
870 IF A$="D" THEN CLS:DIR:EXEC44539:A$=INKEY$:GOTO 770
880 IF A$="Q" THEN EXEC E+459:CLEAR200,32000:CLS:PRINT">>burp!<<":END
890 GOTO 770
1000 CLS:INPUT"load filename";F$
1010 IF INSTR(F$,".")=0 THEN F$=F$+".MAC"
1020 CLS:PRINT"uncrunching ";F$
1030 OPEN"I",#1,F$
1040 EXEC E,1
1050 CLOSE#1:SCREEN1,1
1060 EXEC E+116
1070 RETURN
2000 CLS:INPUT"save filename";F$
2010 IF INSTR(F$,".")=0 THEN F$=F$+".BIN"
2020 CLS:PRINT"saving pmode4 file ";F$
2030 S=256*PEEK(186)+PEEK(187)
2040 SAVEM F$,S,S+6143,44539
2050 RETURN
3000 SCREEN1,1
3010 EXEC E+116
3020 RETURN
