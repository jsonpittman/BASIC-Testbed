18 ON ERR GOTO7000
25 GOSUB820:POKE&HFFA2,&H70:SAVEM"OUT1",&H4000,&H5FFF,&HAC73:POKE&HFFA2,&H71:SAVEM"OUT2",&H4000,&H5BFF,&HAC73:POKE&HFFA2,&H7A:RENAME"OUT1/BIN"TOF$+"/HR1":RENAME"OUT2/BIN"TOF$+"/HR2":DRIVE0:RETURN
30 GOSUB820:RENAMEF$+"/HR1"TO"IN1/BIN":RENAMEF$+"/HR2"TO"IN2/BIN":POKE&HFFA2,&H70:LOADM"IN1":POKE&HFFA2,&H71:LOADM"IN2":POKE&HFFA2,&H7A
35 RENAME"IN1/BIN"TOF$+"/HR1":RENAME"IN2/BIN"TOF$+"/HR2":DRIVE0:RETURN
170 IFK=21THENHPUT(U,T)-(W-1,T+.5*D),4:HPUT(U,T+.5*D)-(W-1,T+D),4:L=U:GOTO65
171 IFK=95THENI=2*H+2:HPUT(L,T)-(L+1,T+D),1:IFL>W*.5THENHGET(U,T)-(W-I-1,T+.5*D+.5),6:HPUT(U+I,T)-(W-1,T+.5*D+.5),6:HGET(U,T+.5*D+1.5)-(W-I-1,T+D),6:HPUT(U+I,T+.5*D+1.5)-(W-1,T+D),6:GOTO175
172 IFK=95THENHGET(U+I,T)-(W-1,T+.5*D+.5),6:HPUT(U,T)-(W-1-I,T+.5*D+.5),6:HGET(U+I,T+.5*D+1.5)-(W-1,T+D),6:HPUT(U,T+.5*D+1.5)-(W-1-I,T+D),6
275 IFK$="O" OR K$="o"THENCLS:LOCATE8,9:PRINT"1: SCREEN DUMP":LOCATE8,10:PRINT"2: SAVE SCREEN ON DISK":LOCATE8,11:PRINT"3: DIR":LOCATE8,12:PRINT"4: HI C SCREEN DUMP":GOTO725
370 INPUT#1,D,S:CLOSE#1:IFD>7 AND D<11THEND=11ELSEIFD>11 AND D<15THEND=15ELSEIFD>15THEND=23
720 END
725 K$=INKEY$:IFK$=""THEN725ELSEIFK$="1"THENCLS:EXEC&H1249:GOTO230ELSEIFK$="2"THENGOSUB25:GOTO230ELSEIFK$="3"THENCLS:DIR:PRINT"      PRESS SPACE TO CONTINUE"ELSEIFK$="4"THENDRIVE0:RUN"DRIVERHT"ELSESOUND60,3:GOTO230
726 K$=INKEY$:IFK$=""THEN726ELSE230
820 GOSUB485:CLS:LOCATE12,8:PRINT"FILENAME: ";:LINEINPUTF$:Z$=RIGHT$(F$,2):IFASC(Z$)=58THENDRIVEVAL(RIGHT$(Z$,1)):F$=LEFT$(F$,LEN(F$)-2):RETURNELSERETURN
7000 IFERLIN=2330THEN2340
7001 IFERLIN=50THEN60
