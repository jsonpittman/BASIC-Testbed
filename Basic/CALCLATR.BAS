10 CLS
20 PRINT "ONE KEY CALCULATOR"
30 PRINT "FOR SCIENCE FAIR 1985-86"
40 PRINT "COPYRIGHT 1985 BY ERIC RYAN MIMS"
50 FOR X=0 TO 200:NEXT
60 CLS
70 PRINT@6, "ONE KEY CALCULATOR"
80 PRINT:PRINT"  THIS SINGLE-KEY CALCULATOR    SIMULATOR WAS CREATED FOR USE BYDISABLED PERSONS WHO DO NOT HAVETHE ABILITY TO OPERATE A        CONVENTIONAL CALCULATOR.";
90 PRINT"  THE   SIMULATOR IS A SIX FUNCTION     CALCULATOR WITH MEMORY WHICH CANBE OPERATED WITH A SINGLE SWITCH.  THE SWITCH CAN BE A STANDARD PUSH-BUTTON DEVICE OR A BREATH- OPERATED 'PUFF' SWITCH.press thefirebutton to  start";
100 IF PEEK(65280)=(127 OR 255) THEN 100
110 ' ONE KEY CALCULATOR
120 ' FOR SCIENCE FAIR 1985-86
130 ' COPYRIGHT 1985 BY ERIC RYAN MIMS
140 '
150 ' VERIABLE DEFINITION
160 CLS3
170 CLEAR
180 X=0:A=0:B=0:C=0:D=0:SOUND 1,1
190 '
200 ' CREATE KEYBOARD
210 X=X+1
220 DATA CLEAR,67,SQR,75,^2,82,EXIT,87,M+,133,M-,140,RM,146,CM,152,7,197,8,204,9,210,/,216,4,261,5,268,6,274,*,280,1,325,2,332,3,338,-,344,0,389,.,396,=,402,+,408
230 DATA 92,1,156,2,220,3,284,4,348,5,412,6
240 IF X>24 THEN 280
250 READ A$,B
260 PRINT @B,A$;
270 GOTO 210
280 IF M<>0 THEN PRINT@62,"m";ELSE PRINT @62,Q$;
290 PRINT@453,N1;:PRINT@485,N2;
300 '
310 ' ROW SCAN
320 A=A+1
330 IF A>6 THEN RESTORE:GOTO 180
340 READ B,C
350 PRINT@B,CHR$(127);
360 GOSUB 390
370 PRINT@B,CHR$(175);
380 GOTO 320
390 FOR W=0TO 25
400 P=PEEK(65280)
410 IF P<>(255 OR 127) THEN 460
420 NEXT W
430 RETURN
440 '
450 ' VARIABLE DEFINITION OF ARROW, BLUE SQUARE, AND LOCATION OF SIGNS
460 P$=CHR$(126):Q$=CHR$(175):E=476
470 FOR X=0 TO 150:NEXT
480 RESTORE:ON C GOTO 520,770,1040,1270,1480,1690
490 '
500 ' FIRST LINE
510 ' SCAN OF CLEAR, SQR, ^2, EXIT
520 A=101:B=108:C=114:D=120
530 PRINT@92,CHR$(175);
540 PRINT@A,P$;:X=1:GOSUB 610:PRINT@A,Q$;
550 PRINT@B,P$;:X=2:GOSUB 610:PRINT@B,Q$;
560 PRINT@C,P$;:X=3:GOSUB 610:PRINT@C,Q$;
570 PRINT@D,P$;:X=4:GOSUB 610:PRINT@D,Q$;
580 GOTO 180
590 '
600 ' SCAN OF JOYSTICK BUTTON
610 FOR W=0 TO 25
620 P=PEEK(65280)
630 IF P<>(255 OR 127) THEN 670
640 NEXT W
650 FOR Y=0 TO 80:NEXT
660 RETURN
670 ON X GOTO 680,690,710,730
680 N1=0:N2=0:N$="":S=0:CLS3:SOUND 200,5:GOTO 180
690 IF S=0 THEN N1=SQR(N1)ELSE N2=SQR(N2)
700 PRINT @B,Q$;:GOTO 180
710 IF S=0 THEN N1=N1^2ELSE N2=N2^2
720 PRINT@C,Q$;:GOTO 180
730 END
740 '
750 ' SECOND LINE
760 ' SCAN OF M+, M-, RM, CM
770 A=165:B=172:C=178:D=184
780 PRINT@156,CHR$(175);
790 PRINT@A,P$;:X=1:GOSUB 840:PRINT@A,Q$;
800 PRINT@B,P$;:X=2:GOSUB 840:PRINT@B,Q$;
810 PRINT@C,P$;:X=3:GOSUB 840:PRINT@C,Q$;
820 PRINT@D,P$;:X=4:GOSUB 840:PRINT@D,Q$;
830 GOTO 180
840 FOR W=0 TO 25
850 P=PEEK(65280)
860 IF P<>(255 OR 127) THEN 900
870 NEXT W
880 FOR Y=0 TO 80:NEXT
890 RETURN
900 IF S=0 THEN 960
910 ON X GOTO 920,930,940,950
920 M=M+N2:PRINT@A,Q$;:GOTO 180
930 M=M-N2:PRINT@B,Q$;:GOTO 180
940 N2=M:PRINT@C,Q$;:GOTO 180
950 GOTO 1000
960 ON X GOTO 970,980,990,1000
970 M=M+N1:PRINT@A,Q$;:GOTO 180
980 M=M-N1:PRINT@B,Q$;:GOTO 180
990 N1=M:PRINT@C,Q$;:GOTO 180
1000 M=0:PRINT@D,Q$;:GOTO 180
1010 ' 
1020 ' THIRD LINE
1030 SCAN OF 7,8,9,/
1040 A=229:B=236:C=242:D=248
1050 PRINT@220,CHR$(175);
1060 PRINT@A,P$;:X=1:GOSUB 1110:PRINT@A,Q$;
1070 PRINT@B,P$;:X=2:GOSUB 1110:PRINT@B,Q$;
1080 PRINT@C,P$;:X=3:GOSUB 1110:PRINT@C,Q$;
1090 PRINT@D,P$;:X=4:GOSUB 1110:PRINT@D,Q$;
1100 GOTO 180
1110 FOR W=0 TO 25
1120 P=PEEK(65280)
1130 IF P<>(255 OR 127) THEN 1170
1140 NEXT W
1150 FOR Y=0TO80:NEXT
1160 RETURN
1170 ON X GOTO 1180,1190,1200,1210
1180 N$=N$+"7":GOSUB 1220:PRINT@A,Q$;:GOTO 180
1190 N$=N$+"8":GOSUB 1220:PRINT@B,Q$;:GOTO 180
1200 N$=N$+"9":GOSUB 1220:PRINT@C,Q$;:GOTO 180
1210 S=1:SOUND 100,1:PRINT@E,"/";:N$="":PRINT@D,Q$;:GOTO 180
1220 IF S=0 THEN N1=VAL(N$) ELSE N2=VAL(N$):RETURN
1230 RETURN
1240 '
1250 ' FOURTH LINE
1260 ' 4,5,6,*
1270 A=293:B=300:C=306:D=312
1280 PRINT@284,Q$;
1290 PRINT@A,P$;:X=1:GOSUB 1340:PRINT@A,Q$;
1300 PRINT@B,P$;:X=2:GOSUB 1340:PRINT@B,Q$;
1310 PRINT@C,P$;:X=3:GOSUB 1340:PRINT@C,Q$;
1320 PRINT@D,P$;:X=4:GOSUB 1340:PRINT@D,Q$;
1330 GOTO 180
1340 FOR W=0 TO 25
1350 P=PEEK(65280)
1360 IF P<>(255 OR 127) THEN 1400
1370 NEXT W
1380 FOR Y=0 TO 80:NEXT
1390 RETURN
1400 ON X GOTO 1410,1420,1430,1440
1410 N$=N$+"4":GOSUB 1220:PRINT@A,Q$;:GOTO 180
1420 N$=N$+"5":GOSUB 1220:PRINT@B,Q$;:GOTO 180
1430 N$=N$+"6":GOSUB 1220:PRINT@C,Q$;:GOTO 180
1440 S=2:SOUND 100,1:PRINT@E,"*";:N$="":PRINT@D,Q$;:GOTO 180
1450 '
1460 ' FITH LINE
1470 ' 1,2,3,-
1480 A=357:B=364:C=370:D=376
1490 PRINT@348,Q$;
1500 PRINT@A,P$;:X=1:GOSUB 1550:PRINT@A,Q$;
1510 PRINT@B,P$;:X=2:GOSUB 1550:PRINT@B,Q$;
1520 PRINT@C,P$;:X=3:GOSUB 1550:PRINT@C,Q$;
1530 PRINT@D,P$;:X=4:GOSUB 1550:PRINT@D,Q$;
1540 GOTO 180
1550 FOR W=0 TO 25
1560 P=PEEK(65280)
1570 IF P<>(255 OR 127) THEN 1610
1580 NEXT W
1590 FOR Y=0 TO 80
1600 RETURN
1610 ON X GOTO 1620,1630,1640,1650
1620 N$=N$+"1":GOSUB 1220:PRINT@A,Q$;:GOTO 180
1630 N$=N$+"2":GOSUB 1220:PRINT@B,Q$;:GOTO 180
1640 N$=N$+"3":GOSUB 1220:PRINT@C,Q$;:GOTO 180
1650 S=3:SOUND 100,1:PRINT@E,"-";:N$="":PRINT@D,Q$;:GOTO 180
1660 '
1670 ' SIXTH LINE
1680 ' 0,.,=,+
1690 A=421:B=428:C=434:D=440
1700 PRINT@412,Q$;
1710 PRINT@A,P$;:X=1:GOSUB 1760:PRINT@A,Q$;
1720 PRINT@B,P$;:X=2:GOSUB 1760:PRINT@B,Q$;
1730 PRINT@C,P$;:X=3:GOSUB 1760:PRINT@C,Q$;
1740 PRINT@D,P$;:X=4:GOSUB 1760:PRINT@D,Q$;
1750 GOTO 180
1760 FOR W=0 TO 25
1770 P=PEEK(65280)
1780 IF P<>(255 OR 127) THEN 1820
1790 NEXT W
1800 FOR Y=0 TO 80
1810 RETURN
1820 ON X GOTO 1830,1840,1870,1900
1830 N$=N$+"0":GOSUB 1220:PRINT@A,Q$;:GOTO 180
1840 N$=N$+".":GOSUB 1220:PRINT@B,Q$;:GOTO 180
1850 '
1860 ' /0 ERROR TRAPPING
1870 IF (S=1 AND N2=0) THEN GOSUB 1930:GOTO 1890
1880 IF S=0 THEN 1810 ELSE IF S=1 THEN N1=N1/N2 ELSE IF S=2 THEN N1=N1*N2 ELSE IF S=3 THEN N1=N1-N2 ELSE IF S=4 THEN N1=N1+N2
1890 S=0:SOUND 100,1:PRINT@E,Q$;:N$="":N2=0:PRINT@C,Q$;:GOTO 180
1900 S=4:SOUND 100,1:PRINT@E,"+";:N$="":PRINT@D,Q$;:GOTO 180
1910 '
1920 ' ERROR SUBROUTINE
1930 PRINT@503,"/0 ERROR";:PLAY"V20O1T7DDDD":FOR F=0TO 250:NEXT:PRINT @503,"";:FOR F=0TO 7:PRINTQ$;:NEXT:RETURN
